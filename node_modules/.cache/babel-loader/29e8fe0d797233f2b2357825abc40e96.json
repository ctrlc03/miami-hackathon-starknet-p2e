{"ast":null,"code":"import Phaser from \"phaser\";\nimport { ethers } from \"ethers\";\nimport Web3Modal from \"web3modal\";\nimport { providerOptions } from \"../coinbase/providerOptions\";\nvar Flood = new Phaser.Class({\n  Extends: Phaser.Scene,\n  initialize: function Flood() {\n    Phaser.Scene.call(this, {\n      key: 'flood'\n    });\n    this.allowClick = true;\n    this.arrow = null;\n    this.cursor = null;\n    this.cursorTween = null;\n    this.monsterTween = null;\n    this.icon1 = {\n      shadow: null,\n      monster: null\n    };\n    this.icon2 = {\n      shadow: null,\n      monster: null\n    };\n    this.icon3 = {\n      shadow: null,\n      monster: null\n    };\n    this.icon4 = {\n      shadow: null,\n      monster: null\n    };\n    this.icon5 = {\n      shadow: null,\n      monster: null\n    };\n    this.icon6 = {\n      shadow: null,\n      monster: null\n    };\n    this.gridBG = null;\n    this.instructions = null;\n    this.text1 = null;\n    this.text2 = null;\n    this.text3 = null;\n    this.currentColor = '';\n    this.emitters = {};\n    this.grid = [];\n    this.matched = [];\n    this.moves = 25;\n    this.frames = ['blue', 'green', 'grey', 'purple', 'red', 'yellow'];\n  },\n  preload: function () {\n    this.load.bitmapFont('atari', 'assets/fonts/bitmap/atari-smooth.png', 'assets/fonts/bitmap/atari-smooth.xml');\n    this.load.atlas('flood', 'assets/games/flood/blobs.png', 'assets/games/flood/blobs.json');\n  },\n  create: function () {\n    this.add.image(400, 300, 'flood', 'background');\n    this.gridBG = this.add.image(400, 600 + 300, 'flood', 'grid');\n    this.createIcon(this.icon1, 'grey', 16, 156);\n    this.createIcon(this.icon2, 'red', 16, 312);\n    this.createIcon(this.icon3, 'green', 16, 458);\n    this.createIcon(this.icon4, 'yellow', 688, 156);\n    this.createIcon(this.icon5, 'blue', 688, 312);\n    this.createIcon(this.icon6, 'purple', 688, 458);\n    this.cursor = this.add.image(16, 156, 'flood', 'cursor-over').setOrigin(0).setVisible(false); //  The game is played in a 14x14 grid with 6 different colors\n\n    this.grid = [];\n\n    for (var x = 0; x < 14; x++) {\n      this.grid[x] = [];\n\n      for (var y = 0; y < 14; y++) {\n        var sx = 166 + x * 36;\n        var sy = 66 + y * 36;\n        var color = Phaser.Math.Between(0, 5);\n        var block = this.add.image(sx, -600 + sy, 'flood', this.frames[color]);\n        block.setData('oldColor', color);\n        block.setData('color', color);\n        block.setData('x', sx);\n        block.setData('y', sy);\n        this.grid[x][y] = block;\n      }\n    } //  Do a few floods just to make it a little easier starting off\n\n\n    this.helpFlood();\n\n    for (var i = 0; i < this.matched.length; i++) {\n      var block = this.matched[i];\n      block.setFrame(this.frames[block.getData('color')]);\n    }\n\n    this.currentColor = this.grid[0][0].getData('color');\n    this.particles = this.add.particles('flood');\n\n    for (var i = 0; i < this.frames.length; i++) {\n      this.createEmitter(this.frames[i]);\n    }\n\n    this.createArrow();\n    this.text1 = this.add.bitmapText(684, 30, 'atari', 'Moves', 20).setAlpha(0);\n    this.text2 = this.add.bitmapText(694, 60, 'atari', '00', 40).setAlpha(0);\n    this.text3 = this.add.bitmapText(180, 200, 'atari', 'So close!\\n\\nClick to\\ntry again', 48).setAlpha(0);\n    this.instructions = this.add.image(400, 300, 'flood', 'instructions').setAlpha(0);\n    this.revealGrid();\n  },\n  helpFlood: function () {\n    for (var i = 0; i < 8; i++) {\n      var x = Phaser.Math.Between(0, 13);\n      var y = Phaser.Math.Between(0, 13);\n      var oldColor = this.grid[x][y].getData('color');\n      var newColor = oldColor + 1;\n\n      if (newColor === 6) {\n        newColor = 0;\n      }\n\n      this.floodFill(oldColor, newColor, x, y);\n    }\n  },\n  createArrow: function () {\n    this.arrow = this.add.image(109 - 24, 48, 'flood', 'arrow-white').setOrigin(0).setAlpha(0);\n    this.tweens.add({\n      targets: this.arrow,\n      x: '+=24',\n      ease: 'Sine.easeInOut',\n      duration: 900,\n      yoyo: true,\n      repeat: -1\n    });\n  },\n  createIcon: function (icon, color, x, y) {\n    var sx = x < 400 ? -200 : 1000;\n    icon.monster = this.add.image(sx, y, 'flood', 'icon-' + color).setOrigin(0);\n    var shadow = this.add.image(sx, y, 'flood', 'shadow');\n    shadow.setData('color', this.frames.indexOf(color));\n    shadow.setData('x', x);\n    shadow.setData('monster', icon.monster);\n    shadow.setOrigin(0);\n    shadow.setInteractive();\n    icon.shadow = shadow;\n  },\n  revealGrid: function () {\n    this.tweens.add({\n      targets: this.gridBG,\n      y: 300,\n      ease: 'Power3'\n    });\n    var i = 800;\n\n    for (var y = 13; y >= 0; y--) {\n      for (var x = 0; x < 14; x++) {\n        var block = this.grid[x][y];\n        this.tweens.add({\n          targets: block,\n          y: block.getData('y'),\n          ease: 'Power3',\n          duration: 800,\n          delay: i\n        });\n        i += 20;\n      }\n    }\n\n    i -= 1000; //  Icons\n\n    this.tweens.add({\n      targets: [this.icon1.shadow, this.icon1.monster],\n      x: this.icon1.shadow.getData('x'),\n      ease: 'Power3',\n      delay: i\n    });\n    this.tweens.add({\n      targets: [this.icon4.shadow, this.icon4.monster],\n      x: this.icon4.shadow.getData('x'),\n      ease: 'Power3',\n      delay: i\n    });\n    i += 200;\n    this.tweens.add({\n      targets: [this.icon2.shadow, this.icon2.monster],\n      x: this.icon2.shadow.getData('x'),\n      ease: 'Power3',\n      delay: i\n    });\n    this.tweens.add({\n      targets: [this.icon5.shadow, this.icon5.monster],\n      x: this.icon5.shadow.getData('x'),\n      ease: 'Power3',\n      delay: i\n    });\n    i += 200;\n    this.tweens.add({\n      targets: [this.icon3.shadow, this.icon3.monster],\n      x: this.icon3.shadow.getData('x'),\n      ease: 'Power3',\n      delay: i\n    });\n    this.tweens.add({\n      targets: [this.icon6.shadow, this.icon6.monster],\n      x: this.icon6.shadow.getData('x'),\n      ease: 'Power3',\n      delay: i\n    }); //  Text\n\n    this.tweens.add({\n      targets: [this.text1, this.text2],\n      alpha: 1,\n      ease: 'Power3',\n      delay: i\n    });\n    i += 500;\n    var movesTween = this.tweens.addCounter({\n      from: 0,\n      to: 25,\n      ease: 'Power1',\n      onUpdate: function (tween, targets, text) {\n        text.setText(Phaser.Utils.String.Pad(tween.getValue().toFixed(), 2, '0', 1));\n      },\n      onUpdateParams: [this.text2],\n      delay: i\n    });\n    i += 500;\n    this.tweens.add({\n      targets: [this.instructions, this.arrow],\n      alpha: 1,\n      ease: 'Power3',\n      delay: i\n    });\n    this.time.delayedCall(i, this.startInputEvents, [], this);\n  },\n  startInputEvents: function () {\n    this.input.on('gameobjectover', this.onIconOver, this);\n    this.input.on('gameobjectout', this.onIconOut, this);\n    this.input.on('gameobjectdown', this.onIconDown, this); //  Cheat mode :)\n\n    this.input.keyboard.on('keydown-M', function () {\n      this.moves++;\n      this.text2.setText(Phaser.Utils.String.Pad(this.moves, 2, '0', 1));\n    }, this);\n    this.input.keyboard.on('keydown-X', function () {\n      this.moves--;\n      this.text2.setText(Phaser.Utils.String.Pad(this.moves, 2, '0', 1));\n    }, this);\n  },\n  stopInputEvents: function () {\n    this.input.off('gameobjectover', this.onIconOver);\n    this.input.off('gameobjectout', this.onIconOut);\n    this.input.off('gameobjectdown', this.onIconDown);\n  },\n  onIconOver: function (pointer, gameObject) {\n    var icon = gameObject;\n    var newColor = icon.getData('color'); //  Valid color?\n\n    if (newColor !== this.currentColor) {\n      this.cursor.setFrame('cursor-over');\n    } else {\n      this.cursor.setFrame('cursor-invalid');\n    }\n\n    this.cursor.setPosition(icon.x + 48, icon.y + 48);\n\n    if (this.cursorTween) {\n      this.cursorTween.stop();\n    }\n\n    this.cursor.setAlpha(1);\n    this.cursor.setVisible(true); //  Change arrow color\n\n    this.arrow.setFrame('arrow-' + this.frames[newColor]); //  Jiggle the monster :)\n\n    var monster = icon.getData('monster');\n    this.children.bringToTop(monster);\n    this.monsterTween = this.tweens.add({\n      targets: monster,\n      y: '-=24',\n      yoyo: true,\n      repeat: -1,\n      duration: 300,\n      ease: 'Power2'\n    });\n  },\n  onIconOut: function (pointer, gameObject) {\n    // console.log(this.monsterTween.targets[0].y);\n    this.monsterTween.stop(0);\n    gameObject.getData('monster').setY(gameObject.y); // console.log(this.monsterTween.targets[0].y);\n\n    this.cursorTween = this.tweens.add({\n      targets: this.cursor,\n      alpha: 0,\n      duration: 300\n    });\n    this.arrow.setFrame('arrow-white');\n  },\n  onIconDown: function (pointer, gameObject) {\n    if (!this.allowClick) {\n      return;\n    }\n\n    var icon = gameObject;\n    var newColor = icon.getData('color'); //  Valid color?\n\n    if (newColor === this.currentColor) {\n      return;\n    }\n\n    var oldColor = this.grid[0][0].getData('color'); // console.log('starting flood from', oldColor, this.frames[oldColor], 'to', newColor, this.frames[newColor]);\n\n    if (oldColor !== newColor) {\n      this.currentColor = newColor;\n      this.matched = [];\n\n      if (this.monsterTween) {\n        this.monsterTween.stop(0);\n      }\n\n      this.cursor.setVisible(false);\n      this.instructions.setVisible(false);\n      this.moves--;\n      this.text2.setText(Phaser.Utils.String.Pad(this.moves, 2, '0', 1));\n      this.floodFill(oldColor, newColor, 0, 0);\n\n      if (this.matched.length > 0) {\n        this.startFlow();\n      }\n    }\n  },\n  createEmitter: function (color) {\n    this.emitters[color] = this.particles.createEmitter({\n      frame: color,\n      lifespan: 1000,\n      speed: {\n        min: 300,\n        max: 400\n      },\n      alpha: {\n        start: 1,\n        end: 0\n      },\n      scale: {\n        start: 0.5,\n        end: 0\n      },\n      rotate: {\n        start: 0,\n        end: 360,\n        ease: 'Power2'\n      },\n      blendMode: 'ADD',\n      on: false\n    });\n  },\n  startFlow: function () {\n    this.matched.sort(function (a, b) {\n      var aDistance = Phaser.Math.Distance.Between(a.x, a.y, 166, 66);\n      var bDistance = Phaser.Math.Distance.Between(b.x, b.y, 166, 66);\n      return aDistance - bDistance;\n    }); //  Swap the sprites\n\n    var t = 0;\n    var inc = this.matched.length > 98 ? 6 : 12;\n    this.allowClick = false;\n\n    for (var i = 0; i < this.matched.length; i++) {\n      var block = this.matched[i];\n      var blockColor = this.frames[block.getData('color')];\n      var oldBlockColor = this.frames[block.getData('oldColor')];\n      var emitter = this.emitters[oldBlockColor];\n      this.time.delayedCall(t, function (block, blockColor) {\n        block.setFrame(blockColor);\n        emitter.explode(6, block.x, block.y);\n      }, [block, blockColor, emitter]);\n      t += inc;\n    }\n\n    this.time.delayedCall(t, function () {\n      this.allowClick = true;\n\n      if (this.checkWon()) {\n        this.gameWon();\n      } else if (this.moves === 0) {\n        this.gameLost();\n      }\n    }, [], this);\n  },\n  checkWon: function () {\n    var topLeft = this.grid[0][0].getData('color');\n\n    for (var x = 0; x < 14; x++) {\n      for (var y = 0; y < 14; y++) {\n        if (this.grid[x][y].getData('color') !== topLeft) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  },\n  clearGrid: function () {\n    //  Hide everything :)\n    this.tweens.add({\n      targets: [this.icon1.monster, this.icon1.shadow, this.icon2.monster, this.icon2.shadow, this.icon3.monster, this.icon3.shadow, this.icon4.monster, this.icon4.shadow, this.icon5.monster, this.icon5.shadow, this.icon6.monster, this.icon6.shadow, this.arrow, this.cursor],\n      alpha: 0,\n      duration: 500,\n      delay: 500\n    });\n    var i = 500;\n\n    for (var y = 13; y >= 0; y--) {\n      for (var x = 0; x < 14; x++) {\n        var block = this.grid[x][y];\n        this.tweens.add({\n          targets: block,\n          scaleX: 0,\n          scaleY: 0,\n          ease: 'Power3',\n          duration: 800,\n          delay: i\n        });\n        i += 10;\n      }\n    }\n\n    return i;\n  },\n  gameLost: function () {\n    this.stopInputEvents();\n    this.text1.setText(\"Lost!\");\n    this.text2.setText(':(');\n    var i = this.clearGrid();\n    this.text3.setAlpha(0);\n    this.text3.setVisible(true);\n    this.tweens.add({\n      targets: this.text3,\n      alpha: 1,\n      duration: 1000,\n      delay: i\n    });\n    this.input.once('pointerdown', this.resetGame, this);\n  },\n  resetGame: function () {\n    this.text1.setText(\"Moves\");\n    this.text2.setText(\"00\");\n    this.text3.setVisible(false); //  Show everything :)\n\n    this.arrow.setFrame('arrow-white');\n    this.tweens.add({\n      targets: [this.icon1.monster, this.icon1.shadow, this.icon2.monster, this.icon2.shadow, this.icon3.monster, this.icon3.shadow, this.icon4.monster, this.icon4.shadow, this.icon5.monster, this.icon5.shadow, this.icon6.monster, this.icon6.shadow, this.arrow, this.cursor],\n      alpha: 1,\n      duration: 500,\n      delay: 500\n    });\n    var i = 500;\n\n    for (var y = 13; y >= 0; y--) {\n      for (var x = 0; x < 14; x++) {\n        var block = this.grid[x][y]; //  Set a new color\n\n        var color = Phaser.Math.Between(0, 5);\n        block.setFrame(this.frames[color]);\n        block.setData('oldColor', color);\n        block.setData('color', color);\n        this.tweens.add({\n          targets: block,\n          scaleX: 1,\n          scaleY: 1,\n          ease: 'Power3',\n          duration: 800,\n          delay: i\n        });\n        i += 10;\n      }\n    } //  Do a few floods just to make it a little easier starting off\n\n\n    this.helpFlood();\n\n    for (var i = 0; i < this.matched.length; i++) {\n      var block = this.matched[i];\n      block.setFrame(this.frames[block.getData('color')]);\n    }\n\n    this.currentColor = this.grid[0][0].getData('color');\n    var movesTween = this.tweens.addCounter({\n      from: 0,\n      to: 25,\n      ease: 'Power1',\n      onUpdate: function (tween, targets, text) {\n        text.setText(Phaser.Utils.String.Pad(tween.getValue().toFixed(), 2, '0', 1));\n      },\n      onUpdateParams: [this.text2],\n      delay: i\n    });\n    this.moves = 25;\n    this.time.delayedCall(i, this.startInputEvents, [], this);\n  },\n  gameWon: function () {\n    this.stopInputEvents();\n    this.text1.setText(\"Won!!\");\n    this.text2.setText(':)');\n    var i = this.clearGrid(); //  Put the winning monster in the middle\n\n    var monster = this.add.image(400, 300, 'flood', 'icon-' + this.frames[this.currentColor]);\n    monster.setScale(0);\n    this.tweens.add({\n      targets: monster,\n      scaleX: 4,\n      scaleY: 4,\n      angle: 360 * 4,\n      duration: 1000,\n      delay: i\n    });\n    this.time.delayedCall(2000, this.boom, [], this);\n    var nftType = 0;\n    console.log(\"COLOR: \" + this.currentColor); // currentColor \n\n    var secret = 420;\n\n    switch (this.currentColor) {\n      case 'blue':\n        nftType = 3;\n\n      case 'green':\n        nftType = 4;\n\n      case 'grey':\n        nftType = 1;\n\n      case 'purple':\n        nftType = 2;\n\n      case 'red':\n        nftType = 0;\n\n      case 'yellow':\n        nftType = 5;\n    } // celo- 0x892460E96D2d33b8000C8507C173936E001c175D\n    // polygon -0x892460E96D2d33b8000C8507C173936E001c175D\n    // eth -0x27Dbcd7e42A8CB02eB8edc28D288ae8a665c2d76\n\n\n    var provider = new ethers.providers.Web3Provider(web3.currentProvider);\n    var signer = provider.getSigner();\n    console.log(web3.currentProvider); // let tx = {};\n    // let txs = await ethers.getContractAt(\"ERC721\", process.argv[2]);\n  },\n  boom: function () {\n    var color = Phaser.Math.RND.pick(this.frames);\n    this.emitters[color].explode(8, Phaser.Math.Between(128, 672), Phaser.Math.Between(28, 572));\n    color = Phaser.Math.RND.pick(this.frames);\n    this.emitters[color].explode(8, Phaser.Math.Between(128, 672), Phaser.Math.Between(28, 572));\n    this.time.delayedCall(100, this.boom, [], this);\n  },\n  floodFill: function (oldColor, newColor, x, y) {\n    if (oldColor === newColor || this.grid[x][y].getData('color') !== oldColor) {\n      return;\n    }\n\n    this.grid[x][y].setData('oldColor', oldColor);\n    this.grid[x][y].setData('color', newColor);\n\n    if (this.matched.indexOf(this.grid[x][y]) === -1) {\n      this.matched.push(this.grid[x][y]);\n    }\n\n    if (x > 0) {\n      this.floodFill(oldColor, newColor, x - 1, y);\n    }\n\n    if (x < 13) {\n      this.floodFill(oldColor, newColor, x + 1, y);\n    }\n\n    if (y > 0) {\n      this.floodFill(oldColor, newColor, x, y - 1);\n    }\n\n    if (y < 13) {\n      this.floodFill(oldColor, newColor, x, y + 1);\n    }\n  }\n});\nexport default Flood;","map":{"version":3,"names":["Phaser","ethers","Web3Modal","providerOptions","Flood","Class","Extends","Scene","initialize","call","key","allowClick","arrow","cursor","cursorTween","monsterTween","icon1","shadow","monster","icon2","icon3","icon4","icon5","icon6","gridBG","instructions","text1","text2","text3","currentColor","emitters","grid","matched","moves","frames","preload","load","bitmapFont","atlas","create","add","image","createIcon","setOrigin","setVisible","x","y","sx","sy","color","Math","Between","block","setData","helpFlood","i","length","setFrame","getData","particles","createEmitter","createArrow","bitmapText","setAlpha","revealGrid","oldColor","newColor","floodFill","tweens","targets","ease","duration","yoyo","repeat","icon","indexOf","setInteractive","delay","alpha","movesTween","addCounter","from","to","onUpdate","tween","text","setText","Utils","String","Pad","getValue","toFixed","onUpdateParams","time","delayedCall","startInputEvents","input","on","onIconOver","onIconOut","onIconDown","keyboard","stopInputEvents","off","pointer","gameObject","setPosition","stop","children","bringToTop","setY","startFlow","frame","lifespan","speed","min","max","start","end","scale","rotate","blendMode","sort","a","b","aDistance","Distance","bDistance","t","inc","blockColor","oldBlockColor","emitter","explode","checkWon","gameWon","gameLost","topLeft","clearGrid","scaleX","scaleY","once","resetGame","setScale","angle","boom","nftType","console","log","secret","provider","providers","Web3Provider","web3","currentProvider","signer","getSigner","RND","pick","push"],"sources":["/opt/miami-hackathon-starknet-p2e-main/src/scenes/Flood.js"],"sourcesContent":["import Phaser from \"phaser\";\nimport { ethers } from \"ethers\";\nimport Web3Modal from \"web3modal\";\nimport { providerOptions } from \"../coinbase/providerOptions\";\n\nvar Flood = new Phaser.Class({\n\n    Extends: Phaser.Scene,\n\n    initialize:\n\n    function Flood ()\n    {\n        Phaser.Scene.call(this, { key: 'flood' });\n\n        this.allowClick = true;\n\n        this.arrow = null;\n        this.cursor = null;\n        this.cursorTween = null;\n        this.monsterTween = null;\n\n        this.icon1 = { shadow: null, monster: null };\n        this.icon2 = { shadow: null, monster: null };\n        this.icon3 = { shadow: null, monster: null };\n        this.icon4 = { shadow: null, monster: null };\n        this.icon5 = { shadow: null, monster: null };\n        this.icon6 = { shadow: null, monster: null };\n\n        this.gridBG = null;\n\n        this.instructions = null;\n        this.text1 = null;\n        this.text2 = null;\n        this.text3 = null;\n\n        this.currentColor = '';\n\n        this.emitters = {};\n\n        this.grid = [];\n        this.matched = [];\n\n        this.moves = 25;\n\n        this.frames = [ 'blue', 'green', 'grey', 'purple', 'red', 'yellow' ];\n    },\n\n    preload: function ()\n    {\n        this.load.bitmapFont('atari', 'assets/fonts/bitmap/atari-smooth.png', 'assets/fonts/bitmap/atari-smooth.xml');\n        this.load.atlas('flood', 'assets/games/flood/blobs.png', 'assets/games/flood/blobs.json');\n    },\n\n    create: function ()\n    {\n        this.add.image(400, 300, 'flood', 'background');\n        this.gridBG = this.add.image(400, 600 + 300, 'flood', 'grid');\n\n        this.createIcon(this.icon1, 'grey', 16, 156);\n        this.createIcon(this.icon2, 'red', 16, 312);\n        this.createIcon(this.icon3, 'green', 16, 458);\n        this.createIcon(this.icon4, 'yellow', 688, 156);\n        this.createIcon(this.icon5, 'blue', 688, 312);\n        this.createIcon(this.icon6, 'purple', 688, 458);\n\n        this.cursor = this.add.image(16, 156, 'flood', 'cursor-over').setOrigin(0).setVisible(false);\n\n        //  The game is played in a 14x14 grid with 6 different colors\n\n        this.grid = [];\n\n        for (var x = 0; x < 14; x++)\n        {\n            this.grid[x] = [];\n\n            for (var y = 0; y < 14; y++)\n            {\n                var sx = 166 + (x * 36);\n                var sy = 66 + (y * 36);\n                var color = Phaser.Math.Between(0, 5);\n\n                var block = this.add.image(sx, -600 + sy, 'flood', this.frames[color]);\n\n                block.setData('oldColor', color);\n                block.setData('color', color);\n                block.setData('x', sx);\n                block.setData('y', sy);\n\n                this.grid[x][y] = block;\n            }\n        }\n\n        //  Do a few floods just to make it a little easier starting off\n        this.helpFlood();\n\n        for (var i = 0; i < this.matched.length; i++)\n        {\n            var block = this.matched[i];\n\n            block.setFrame(this.frames[block.getData('color')]);\n        }\n\n        this.currentColor = this.grid[0][0].getData('color');\n\n        this.particles = this.add.particles('flood');\n\n        for (var i = 0; i < this.frames.length; i++)\n        {\n            this.createEmitter(this.frames[i]);\n        }\n\n        this.createArrow();\n\n        this.text1 = this.add.bitmapText(684, 30, 'atari', 'Moves', 20).setAlpha(0);\n        this.text2 = this.add.bitmapText(694, 60, 'atari', '00', 40).setAlpha(0);\n        this.text3 = this.add.bitmapText(180, 200, 'atari', 'So close!\\n\\nClick to\\ntry again', 48).setAlpha(0);\n\n        this.instructions = this.add.image(400, 300, 'flood', 'instructions').setAlpha(0);\n\n        this.revealGrid();\n    },\n\n    helpFlood: function ()\n    {\n        for (var i = 0; i < 8; i++)\n        {\n            var x = Phaser.Math.Between(0, 13);\n            var y = Phaser.Math.Between(0, 13);\n\n            var oldColor = this.grid[x][y].getData('color');\n            var newColor = oldColor + 1;\n\n            if (newColor === 6)\n            {\n                newColor = 0;\n            }\n\n            this.floodFill(oldColor, newColor, x, y)\n        }\n    },\n\n    createArrow: function ()\n    {\n        this.arrow = this.add.image(109 - 24, 48, 'flood', 'arrow-white').setOrigin(0).setAlpha(0);\n\n        this.tweens.add({\n\n            targets: this.arrow,\n            x: '+=24',\n            ease: 'Sine.easeInOut',\n            duration: 900,\n            yoyo: true,\n            repeat: -1\n\n        });\n    },\n\n    createIcon: function (icon, color, x, y)\n    {\n        var sx = (x < 400) ? -200 : 1000;\n\n        icon.monster = this.add.image(sx, y, 'flood', 'icon-' + color).setOrigin(0);\n\n        var shadow = this.add.image(sx, y, 'flood', 'shadow');\n\n        shadow.setData('color', this.frames.indexOf(color));\n\n        shadow.setData('x', x);\n\n        shadow.setData('monster', icon.monster);\n\n        shadow.setOrigin(0);\n\n        shadow.setInteractive();\n\n        icon.shadow = shadow;\n    },\n\n    revealGrid: function ()\n    {\n        this.tweens.add({\n            targets: this.gridBG,\n            y: 300,\n            ease: 'Power3'\n        });\n\n        var i = 800;\n\n        for (var y = 13; y >= 0; y--)\n        {\n            for (var x = 0; x < 14; x++)\n            {\n                var block = this.grid[x][y];\n\n                this.tweens.add({\n\n                    targets: block,\n\n                    y: block.getData('y'),\n\n                    ease: 'Power3',\n                    duration: 800,\n                    delay: i\n\n                });\n\n                i += 20;\n            }\n        }\n\n        i -= 1000;\n\n        //  Icons\n        this.tweens.add({\n            targets: [ this.icon1.shadow, this.icon1.monster ],\n            x: this.icon1.shadow.getData('x'),\n            ease: 'Power3',\n            delay: i\n        });\n\n        this.tweens.add({\n            targets: [ this.icon4.shadow, this.icon4.monster ],\n            x: this.icon4.shadow.getData('x'),\n            ease: 'Power3',\n            delay: i\n        });\n\n        i += 200;\n\n        this.tweens.add({\n            targets: [ this.icon2.shadow, this.icon2.monster ],\n            x: this.icon2.shadow.getData('x'),\n            ease: 'Power3',\n            delay: i\n        });\n\n        this.tweens.add({\n            targets: [ this.icon5.shadow, this.icon5.monster ],\n            x: this.icon5.shadow.getData('x'),\n            ease: 'Power3',\n            delay: i\n        });\n\n        i += 200;\n\n        this.tweens.add({\n            targets: [ this.icon3.shadow, this.icon3.monster ],\n            x: this.icon3.shadow.getData('x'),\n            ease: 'Power3',\n            delay: i\n        });\n\n        this.tweens.add({\n            targets: [ this.icon6.shadow, this.icon6.monster ],\n            x: this.icon6.shadow.getData('x'),\n            ease: 'Power3',\n            delay: i\n        });\n\n        //  Text\n\n        this.tweens.add({\n            targets: [ this.text1, this.text2 ],\n            alpha: 1,\n            ease: 'Power3',\n            delay: i\n        });\n\n        i += 500;\n\n        var movesTween = this.tweens.addCounter({\n            from: 0,\n            to: 25,\n            ease: 'Power1',\n            onUpdate: function (tween, targets, text)\n            {\n                text.setText(Phaser.Utils.String.Pad(tween.getValue().toFixed(), 2, '0', 1));\n            },\n            onUpdateParams: [ this.text2 ],\n            delay: i\n        });\n\n        i += 500;\n\n        this.tweens.add({\n            targets: [ this.instructions, this.arrow ],\n            alpha: 1,\n            ease: 'Power3',\n            delay: i\n        });\n\n        this.time.delayedCall(i, this.startInputEvents, [], this);\n    },\n\n    startInputEvents: function ()\n    {\n        this.input.on('gameobjectover', this.onIconOver, this);\n        this.input.on('gameobjectout', this.onIconOut, this);\n        this.input.on('gameobjectdown', this.onIconDown, this);\n\n        //  Cheat mode :)\n\n        this.input.keyboard.on('keydown-M', function () {\n\n            this.moves++;\n            this.text2.setText(Phaser.Utils.String.Pad(this.moves, 2, '0', 1));\n\n        }, this);\n\n        this.input.keyboard.on('keydown-X', function () {\n\n            this.moves--;\n            this.text2.setText(Phaser.Utils.String.Pad(this.moves, 2, '0', 1));\n\n        }, this);\n    },\n\n    stopInputEvents: function ()\n    {\n        this.input.off('gameobjectover', this.onIconOver);\n        this.input.off('gameobjectout', this.onIconOut);\n        this.input.off('gameobjectdown', this.onIconDown);\n    },\n\n    onIconOver: function (pointer, gameObject)\n    {\n        var icon = gameObject;\n\n        var newColor = icon.getData('color');\n\n        //  Valid color?\n        if (newColor !== this.currentColor)\n        {\n            this.cursor.setFrame('cursor-over');\n        }\n        else\n        {\n            this.cursor.setFrame('cursor-invalid');\n        }\n\n        this.cursor.setPosition(icon.x + 48, icon.y + 48);\n\n        if (this.cursorTween)\n        {\n            this.cursorTween.stop();\n        }\n\n        this.cursor.setAlpha(1);\n        this.cursor.setVisible(true);\n\n        //  Change arrow color\n        this.arrow.setFrame('arrow-' + this.frames[newColor]);\n\n        //  Jiggle the monster :)\n        var monster = icon.getData('monster');\n\n        this.children.bringToTop(monster);\n\n        this.monsterTween = this.tweens.add({\n            targets: monster,\n            y: '-=24',\n            yoyo: true,\n            repeat: -1,\n            duration: 300,\n            ease: 'Power2'\n        });\n    },\n\n    onIconOut: function (pointer, gameObject)\n    {\n        // console.log(this.monsterTween.targets[0].y);\n\n        this.monsterTween.stop(0);\n\t\t\n\t\tgameObject.getData('monster').setY(gameObject.y);\n\n        // console.log(this.monsterTween.targets[0].y);\n\n        this.cursorTween = this.tweens.add({\n            targets: this.cursor,\n            alpha: 0,\n            duration: 300\n        });\n\n        this.arrow.setFrame('arrow-white');\n    },\n\n    onIconDown: function (pointer, gameObject)\n    {\n        if (!this.allowClick)\n        {\n            return;\n        }\n\n        var icon = gameObject;\n\n        var newColor = icon.getData('color');\n\n        //  Valid color?\n        if (newColor === this.currentColor)\n        {\n            return;\n        }\n\n        var oldColor = this.grid[0][0].getData('color');\n\n        // console.log('starting flood from', oldColor, this.frames[oldColor], 'to', newColor, this.frames[newColor]);\n\n        if (oldColor !== newColor)\n        {\n            this.currentColor = newColor;\n\n            this.matched = [];\n\n            if (this.monsterTween)\n            {\n                this.monsterTween.stop(0);\n            }\n\n            this.cursor.setVisible(false);\n            this.instructions.setVisible(false);\n\n            this.moves--;\n\n            this.text2.setText(Phaser.Utils.String.Pad(this.moves, 2, '0', 1));\n\n            this.floodFill(oldColor, newColor, 0, 0);\n\n            if (this.matched.length > 0)\n            {\n                this.startFlow();\n            }\n        }\n    },\n\n    createEmitter: function (color)\n    {\n        this.emitters[color] = this.particles.createEmitter({\n            frame: color,\n            lifespan: 1000,\n            speed: { min: 300, max: 400 },\n            alpha: { start: 1, end: 0 },\n            scale: { start: 0.5, end: 0 },\n            rotate: { start: 0, end: 360, ease: 'Power2' },\n            blendMode: 'ADD',\n            on: false\n        });\n    },\n\n    startFlow: function ()\n    {\n        this.matched.sort(function (a, b) {\n\n            var aDistance = Phaser.Math.Distance.Between(a.x, a.y, 166, 66);\n            var bDistance = Phaser.Math.Distance.Between(b.x, b.y, 166, 66);\n\n            return aDistance - bDistance;\n\n        });\n\n        //  Swap the sprites\n\n        var t = 0;\n        var inc = (this.matched.length > 98) ? 6 : 12;\n\n        this.allowClick = false;\n\n        for (var i = 0; i < this.matched.length; i++)\n        {\n            var block = this.matched[i];\n\n            var blockColor = this.frames[block.getData('color')];\n            var oldBlockColor = this.frames[block.getData('oldColor')];\n\n            var emitter = this.emitters[oldBlockColor];\n\n            this.time.delayedCall(t, function (block, blockColor) {\n\n                block.setFrame(blockColor);\n\n                emitter.explode(6, block.x, block.y);\n                \n            }, [ block, blockColor, emitter ]);\n\n            t += inc;\n        }\n\n        this.time.delayedCall(t, function () {\n\n            this.allowClick = true;\n\n            if (this.checkWon())\n            {\n                this.gameWon();\n            }\n            else if (this.moves === 0)\n            {\n                this.gameLost();\n            }\n\n        }, [], this);\n    },\n\n    checkWon: function ()\n    {\n        var topLeft = this.grid[0][0].getData('color');\n\n        for (var x = 0; x < 14; x++)\n        {\n            for (var y = 0; y < 14; y++)\n            {\n                if (this.grid[x][y].getData('color') !== topLeft)\n                {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    },\n\n    clearGrid: function ()\n    {\n        //  Hide everything :)\n\n        this.tweens.add({\n            targets: [\n                this.icon1.monster, this.icon1.shadow,\n                this.icon2.monster, this.icon2.shadow,\n                this.icon3.monster, this.icon3.shadow,\n                this.icon4.monster, this.icon4.shadow,\n                this.icon5.monster, this.icon5.shadow,\n                this.icon6.monster, this.icon6.shadow,\n                this.arrow,\n                this.cursor\n            ],\n            alpha: 0,\n            duration: 500,\n            delay: 500\n        });\n\n        var i = 500;\n\n        for (var y = 13; y >= 0; y--)\n        {\n            for (var x = 0; x < 14; x++)\n            {\n                var block = this.grid[x][y];\n\n                this.tweens.add({\n\n                    targets: block,\n\n                    scaleX: 0,\n                    scaleY: 0,\n\n                    ease: 'Power3',\n                    duration: 800,\n                    delay: i\n\n                });\n\n                i += 10;\n            }\n        }\n\n        return i;\n    },\n\n    gameLost: function ()\n    {\n        this.stopInputEvents();\n\n        this.text1.setText(\"Lost!\");\n        this.text2.setText(':(');\n\n        var i = this.clearGrid();\n\n        this.text3.setAlpha(0);\n        this.text3.setVisible(true);\n\n        this.tweens.add({\n            targets: this.text3,\n            alpha: 1,\n            duration: 1000,\n            delay: i\n        });\n\n        this.input.once('pointerdown', this.resetGame, this);\n    },\n\n    resetGame: function ()\n    {\n        this.text1.setText(\"Moves\");\n        this.text2.setText(\"00\");\n        this.text3.setVisible(false);\n\n        //  Show everything :)\n\n        this.arrow.setFrame('arrow-white');\n\n        this.tweens.add({\n            targets: [\n                this.icon1.monster, this.icon1.shadow,\n                this.icon2.monster, this.icon2.shadow,\n                this.icon3.monster, this.icon3.shadow,\n                this.icon4.monster, this.icon4.shadow,\n                this.icon5.monster, this.icon5.shadow,\n                this.icon6.monster, this.icon6.shadow,\n                this.arrow,\n                this.cursor\n            ],\n            alpha: 1,\n            duration: 500,\n            delay: 500\n        });\n\n        var i = 500;\n\n        for (var y = 13; y >= 0; y--)\n        {\n            for (var x = 0; x < 14; x++)\n            {\n                var block = this.grid[x][y];\n\n                //  Set a new color\n                var color = Phaser.Math.Between(0, 5);\n\n                block.setFrame(this.frames[color]);\n\n                block.setData('oldColor', color);\n                block.setData('color', color);\n\n                this.tweens.add({\n\n                    targets: block,\n\n                    scaleX: 1,\n                    scaleY: 1,\n\n                    ease: 'Power3',\n                    duration: 800,\n                    delay: i\n\n                });\n\n                i += 10;\n            }\n        }\n\n        //  Do a few floods just to make it a little easier starting off\n        this.helpFlood();\n\n        for (var i = 0; i < this.matched.length; i++)\n        {\n            var block = this.matched[i];\n\n            block.setFrame(this.frames[block.getData('color')]);\n        }\n\n        this.currentColor = this.grid[0][0].getData('color');\n\n        var movesTween = this.tweens.addCounter({\n            from: 0,\n            to: 25,\n            ease: 'Power1',\n            onUpdate: function (tween, targets, text)\n            {\n                text.setText(Phaser.Utils.String.Pad(tween.getValue().toFixed(), 2, '0', 1));\n            },\n            onUpdateParams: [ this.text2 ],\n            delay: i\n        });\n\n        this.moves = 25;\n\n        this.time.delayedCall(i, this.startInputEvents, [], this);\n    },\n\n    gameWon: function ()\n    {\n        this.stopInputEvents();\n\n        this.text1.setText(\"Won!!\");\n        this.text2.setText(':)');\n\n        var i = this.clearGrid();\n\n        //  Put the winning monster in the middle\n\n        var monster = this.add.image(400, 300, 'flood', 'icon-' + this.frames[this.currentColor]);\n\n        monster.setScale(0);\n\n        this.tweens.add({\n            targets: monster,\n            scaleX: 4,\n            scaleY: 4,\n            angle: 360 * 4,\n            duration: 1000,\n            delay: i\n        });\n\n        this.time.delayedCall(2000, this.boom, [], this);\n        var nftType = 0;\n        console.log(\"COLOR: \" + this.currentColor);\n        // currentColor \n        var secret = 420;\n        switch (this.currentColor) {\n            case 'blue':\n                nftType = 3;\n            case 'green':\n                nftType = 4;\n            case 'grey':\n                nftType = 1;\n            case 'purple':\n                nftType = 2;\n            case 'red':\n                nftType = 0;\n            case 'yellow':\n                nftType = 5;\n        }\n\n        // celo- 0x892460E96D2d33b8000C8507C173936E001c175D\n        // polygon -0x892460E96D2d33b8000C8507C173936E001c175D\n        // eth -0x27Dbcd7e42A8CB02eB8edc28D288ae8a665c2d76\n\n        var provider = new ethers.providers.Web3Provider(web3.currentProvider);\n        var signer = provider.getSigner();\n        console.log(web3.currentProvider);\n        // let tx = {};\n        // let txs = await ethers.getContractAt(\"ERC721\", process.argv[2]);\n        \n    },\n\n    boom: function ()\n    {\n        var color = Phaser.Math.RND.pick(this.frames);\n\n        this.emitters[color].explode(8, Phaser.Math.Between(128, 672), Phaser.Math.Between(28, 572))\n\n        color = Phaser.Math.RND.pick(this.frames);\n\n        this.emitters[color].explode(8, Phaser.Math.Between(128, 672), Phaser.Math.Between(28, 572))\n\n        this.time.delayedCall(100, this.boom, [], this);\n    },\n\n    floodFill: function (oldColor, newColor, x, y)\n    {\n        if (oldColor === newColor || this.grid[x][y].getData('color') !== oldColor)\n        {\n            return;\n        }\n\n        this.grid[x][y].setData('oldColor', oldColor);\n        this.grid[x][y].setData('color', newColor);\n\n        if (this.matched.indexOf(this.grid[x][y]) === -1)\n        {\n            this.matched.push(this.grid[x][y]);\n        }\n\n        if (x > 0)\n        {\n            this.floodFill(oldColor, newColor, x - 1, y);\n        }\n\n        if (x < 13)\n        {\n            this.floodFill(oldColor, newColor, x + 1, y);\n        }\n\n        if (y > 0)\n        {\n            this.floodFill(oldColor, newColor, x, y - 1);\n        }\n\n        if (y < 13)\n        {\n            this.floodFill(oldColor, newColor, x, y + 1);\n        }\n    }\n\n});\n\nexport default Flood;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}